<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keyboard Settings</title>
  </head>
  <body>

    <textarea></textarea>
    <button>submit</button>

    <script src="../../controlcommands.js"></script>
    <script src="../../utils/reftheme.js"></script>
    <script src="../../utils/kbutils.js"></script>
    <script>

      let txa = document.querySelector("textarea");
      let sub = document.querySelector("button");

      sub.addEventListener("click", async () => {
        let json = await getSettablesAsJson();

        try {
          json.kbshortcuts = JSON.parse(txa.value);
        } catch {
          return;
        }

        setSettablesByJson(json);
      });
    </script>
  </body>
</html>
